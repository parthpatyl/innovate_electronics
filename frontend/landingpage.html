<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Innovate Electronics</title>
    <link rel="stylesheet" href="css/global-font.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/chatbot.css">
    <link rel="stylesheet" href="css/headerIndex.css">
    <link rel="stylesheet" href="css/footer.css">
    <link rel="stylesheet" href="css/events.css">
</head>
<body>

    <div id="header-section"></div>
    <div id="overlay"></div>
    <script src="js/header.js"></script>
    <script src="js/chatbot.js"></script>
    <script>
      // WhatsApp Button (left corner, all pages)
      (function() {
        if (!document.getElementById('whatsapp-btn')) {
          var wa = document.createElement('div');
          wa.id = 'whatsapp-btn';
          wa.innerHTML = '<img src="assets/whatsapp_icon.png" alt="WhatsApp">';
          wa.title = 'Chat on WhatsApp';
          wa.onclick = function() {
            window.open('https://wa.me/919999999999', '_blank');
          };
          document.body.appendChild(wa);
        }
      })();
    </script>
    <script>
        // Load the header component dynamically
        fetch('header.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('header-section').innerHTML = data;
                // Now header is loaded, setup menu
                if (typeof setupHeaderMenu === 'function') setupHeaderMenu();
            });
    </script>

    <video autoplay loop muted>
        <source src="assets/landingpage.mp4" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    <section class="tagline">
        <p>In a world racing toward the future, we stand
            grounded in timeless values<br> — precision,
            integrity, and craftsmanship.</p>
    </section>

    <section class="product-categories"></section>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const categoriesContainer = document.querySelector('.product-categories');

            // Fetch categories from JSON file
            fetch("data/categories.json")
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Failed to fetch categories data');
                    }
                    return response.json();
                })
                .then(data => {
                    renderCategories(data.categories);
                })
                .catch(error => {
                    console.error('Error fetching categories:', error);
                });

            // Function to render categories
            function renderCategories(categories) {
                categories.forEach(category => {
                    // Create category element
                    const categoryElement = document.createElement('div');
                    categoryElement.classList.add('category');

                    // Add header image and title
                    categoryElement.innerHTML = `
                        <div class="category-header-image">
                            <img src="${category.headerImage}" alt="${category.title}">
                        </div>
                        <h3>${category.title}</h3>
                        <div class="slider-container">
                            <div class="category-images"></div>
                        </div>
                        <a href="products.html" class="see-more">See More</a>
                    `;

                    // Get the container for category items
                    const categoryImagesContainer = categoryElement.querySelector('.category-images');

                    // Add only first 6 items to the category
                    category.items.slice(0, 6).forEach(item => {
                        const itemElement = document.createElement('a');
                        // Mapping for subcategory to key for sessionStorage
                        const subcategoryKeyMap = {
                            'Switches': 'switches',
                            'Amplifiers': 'amplifiers',
                            'Passive Components': 'passive_components',
                            'Waveguides': 'waveguides',
                            // Add more subcategories as needed
                        };
                        itemElement.href = "subcategory.html";
                        itemElement.classList.add('img-container');
                        itemElement.innerHTML = `
                            <img src="${item.image}" alt="${item.name}">
                            <p>${item.name}</p>
                        `;
                        itemElement.addEventListener('click', function(e) {
                            // Save selected product info to sessionStorage for subcategory page
                            sessionStorage.setItem('selectedProduct', JSON.stringify({
                                category: category.title,
                                name: item.name,
                                image: item.image,
                                subproducts: item.subproducts || [],
                                key: subcategoryKeyMap[item.name] || null
                            }));
                        });
                        categoryImagesContainer.appendChild(itemElement);
                    });

                    // Append the category to the container
                    categoriesContainer.appendChild(categoryElement);
                });
            }
        });
    </script>

    <section class="company-description">
        <p>International Representative and Value added supplier of RF & Microwave components, Sub Systems, Test &
            Measurement Sensors & Equipment and Speciality Materials</p>
    </section>

    <section id="latest-articles" class="latest-articles">
        <div class="section-title">
            <h2>Latest Blogs</h2>
        </div>
        <div class="carousel-container">
            <button class="carousel-arrow left" aria-label="Previous">&#10094;</button>
            <div class="carousel-track">
                <a href="blogs.html" class="article">
                    <img src="assets/blog.jpeg" alt="Space Propulsion" class="article-img">
                    <h3>Thrusters and Theories: Navigating the New Frontiers of Space Propulsion</h3>
                </a>
                <a href="blogs.html" class="article">
                    <img src="assets/blog.jpeg" alt="Modern Aircraft" class="article-img">
                    <h3>From Rivets to Rockets: The Timeless Craftsmanship Behind Modern Aircraft</h3>
                </a>
                <a href="blogs.html" class="article">
                    <img src="assets/blog.jpeg" alt="Hypersonic Travel" class="article-img">
                    <h3>Celestial Highways: The Future of Hypersonic Travel and Orbital Tourism</h3>
                </a>
                <a href="blogs.html" class="article">
                    <img src="assets/blog.jpeg" alt="Space Propulsion" class="article-img">
                    <h3>Thrusters and Theories: Navigating the New Frontiers of Space Propulsion</h3>
                </a>
                <a href="blogs.html" class="article">
                    <img src="assets/blog.jpeg" alt="Modern Aircraft" class="article-img">
                    <h3>From Rivets to Rockets: The Timeless Craftsmanship Behind Modern Aircraft</h3>
                </a>
                <a href="blogs.html" class="article">
                    <img src="assets/blog.jpeg" alt="Hypersonic Travel" class="article-img">
                    <h3>Celestial Highways: The Future of Hypersonic Travel and Orbital Tourism</h3>
                </a>
                <a href="blogs.html" class="article">
                    <img src="assets/blog.jpeg" alt="Aerospace Engineering" class="article-img">
                    <h3>AI in the Air: How Machine Learning is Reshaping Aerospace Engineering</h3>
                </a>
            </div>
            <button class="carousel-arrow right" aria-label="Next">&#10095;</button>
        </div>
        <div class="view-all-events">
            <a href="blogs.html" class="view-all-btn">View All Events</a>
        </div>
    </section>

    <section id="events" class="events">
        <div class="section-title">
            <h2>Latest Events & Webinars</h2>
        </div>
        <div class="carousel-container events-carousel-container">
            <button class="carousel-arrow left events-arrow" aria-label="Previous">&#10094;</button>
            <div class="carousel-track events-carousel-track">
                <a href="events.html" class="event">
                    <img src="assets/event1.jpeg" alt="Event 1" class="event-img">
                    <div class="event-date">June 15, 2025</div>
                    <h3>Webinar on RF Technologies</h3>
                    <button class="register-btn">Register Now</button>
                </a>
                <a href="events.html" class="event">
                    <img src="assets/event1.jpeg" alt="Event 2" class="event-img">
                    <div class="event-date">June 20, 2025</div>
                    <h3>Advanced Microwave Systems</h3>
                    <button class="register-btn">Register Now</button>
                </a>
                <a href="events.html" class="event">
                    <img src="assets/event1.jpeg" alt="Event 3" class="event-img">
                    <div class="event-date">June 25, 2025</div>
                    <h3>Innovations in Electronics</h3>
                    <button class="register-btn">Register Now</button>
                </a>
                <a href="events.html" class="event">
                    <img src="assets/event1.jpeg" alt="Event 4" class="event-img">
                    <div class="event-date">July 1, 2025</div>
                    <h3>EMI/EMC Testing Workshop</h3>
                    <button class="register-btn">Register Now</button>
                </a>
                <a href="events.html" class="event">
                    <img src="assets/event1.jpeg" alt="Event 5" class="event-img">
                    <div class="event-date">July 5, 2025</div>
                    <h3>5G Technology Summit</h3>
                    <button class="register-btn">Register Now</button>
                </a>
                <a href="events.html" class="event">
                    <img src="assets/event1.jpeg" alt="Event 6" class="event-img">
                    <div class="event-date">July 10, 2025</div>
                    <h3>Antenna Design Masterclass</h3>
                    <button class="register-btn">Register Now</button>
                </a>
            </div>
            <button class="carousel-arrow right events-arrow" aria-label="Next">&#10095;</button>
        </div>
        <div class="view-all-events">
            <a href="events.html" class="view-all-btn">View All Events</a>
        </div>
    </section>

    <section class="testimonials">
        <p class="testimonial-title">What Our Clients Say</p>
        <div class="testimonials-grid">
            <!-- First Row -->
            <div class="testimonial">
                <div class="profile">
                    <img src="assets/id.png" alt="Client" class="profile-img">
                    <div class="profile-info">
                        <h4>Dr. Satish Prabhakar</h4>
                        <p>Senior Technology Lead</p>
                    </div>
                </div>
                <p class="testimonial-text">"The RF components from Innovate Electronics have consistently outperformed
                    our expectations in extreme conditions..."</p>
                <div class="rating">★★★★★</div>
            </div>

            <div class="testimonial">
                <div class="profile">
                    <img src="assets/id.png" alt="Client" class="profile-img">
                    <div class="profile-info">
                        <h4>Dr. Satish Prabhakar</h4>
                        <p>Senior Technology Lead</p>
                    </div>
                </div>
                <p class="testimonial-text">"The RF components from Innovate Electronics have consistently outperformed
                    our expectations in extreme conditions..."</p>
                <div class="rating">★★★★★</div>
            </div>

            <div class="testimonial">
                <div class="profile">
                    <img src="assets/id.png" alt="Client" class="profile-img">
                    <div class="profile-info">
                        <h4>Dr. Satish Prabhakar</h4>
                        <p>Senior Technology Lead</p>
                    </div>
                </div>
                <p class="testimonial-text">"The RF components from Innovate Electronics have consistently outperformed
                    our expectations in extreme conditions..."</p>
                <div class="rating">★★★★★</div>
            </div>
        </div>
    </section>

    <div id="footer-section"></div>

    <!-- Chatbot widget script included above -->

    <script>
        fetch('footer.html')
            .then(response => response.text())
            .then(data => {
                document.getElementById('footer-section').innerHTML = data;
            });
    </script>

    <script>
        // Generic Carousel Initialization Function
        function initializeCarousel(options) {
            const track = document.querySelector(options.trackSelector);
            const items = Array.from(track.children);
            const leftBtn = document.querySelector(options.leftBtnSelector);
            const rightBtn = document.querySelector(options.rightBtnSelector);
            let currentIndex = 0;
            const itemsPerView = 3;
            const totalItems = items.length;
            
            function updateCarousel() {
                const itemWidth = items[0].offsetWidth;
                const gap = 24; // matches CSS gap
                const offset = currentIndex * (itemWidth + gap);
                track.style.transform = `translateX(-${offset}px)`;
                
                // Update button states
                leftBtn.style.opacity = currentIndex === 0 ? '0.5' : '1';
                rightBtn.style.opacity = currentIndex >= totalItems - itemsPerView ? '0.5' : '1';
            }
            
            function moveCarousel(direction) {
                if (direction === 'left' && currentIndex > 0) {
                    currentIndex--;
                    updateCarousel();
                } else if (direction === 'right' && currentIndex < totalItems - itemsPerView) {
                    currentIndex++;
                    updateCarousel();
                }
            }
            
            leftBtn.addEventListener('click', () => moveCarousel('left'));
            rightBtn.addEventListener('click', () => moveCarousel('right'));
            
            // Touch support for mobile
            let startX = 0;
            let isDragging = false;
            
            track.addEventListener('touchstart', e => {
                startX = e.touches[0].clientX;
                isDragging = true;
            });
            
            track.addEventListener('touchmove', e => {
                if (!isDragging) return;
                const currentX = e.touches[0].clientX;
                const diff = startX - currentX;
                
                if (Math.abs(diff) > 50) {
                    moveCarousel(diff > 0 ? 'right' : 'left');
                    isDragging = false;
                }
            });
            
            track.addEventListener('touchend', () => {
                isDragging = false;
            });
            
            // Handle window resize
            let resizeTimer;
            window.addEventListener('resize', () => {
                clearTimeout(resizeTimer);
                resizeTimer = setTimeout(updateCarousel, 250);
            });
            
            // Initial setup
            updateCarousel();
        }

        // Initialize both carousels when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            // Initialize blogs carousel
            initializeCarousel({
                trackSelector: '.carousel-track',
                leftBtnSelector: '.carousel-arrow.left:not(.events-arrow)',
                rightBtnSelector: '.carousel-arrow.right:not(.events-arrow)'
            });

            // Initialize events carousel
            initializeCarousel({
                trackSelector: '.events-carousel-track',
                leftBtnSelector: '.carousel-arrow.left.events-arrow',
                rightBtnSelector: '.carousel-arrow.right.events-arrow'
            });
        });
    </script>

</body>

</html>